---
layout: default
---
{% assign util = site.data.utility %}
<section class="primary">
  <header>
    <h2>Calendar</h2>
  </header>
{% for entry in site.data.calendar %}
  {% assign week_int = forloop.index | times: 1 %}
  {% capture weeknum %}{% if week_int < 10 %}0{% endif %}{{ week_int }}{% endcapture %}
  {% assign week = site.data.weeks[weeknum] %}

  <article id="week-{{ weeknum }}" data-week="{{ entry.begins | date: '%U' }}" data-expires="{{ entry.expires }}">
    <header>
      <h3>
        {{ week.theme | escape }}
      </h3>
      <small>Week&nbsp;{{ util.spelled_nums[forloop.index] }}</small>
    </header>
    {% for meeting in week.meetings %}
    <section class="agenda">
      {% if site.course.days %}
        {% assign day_key = site.course.days[forloop.index0] | downcase %}
        {% assign day_offset = site.data.utility.day_offsets[day_key] | times: 1 %}
        <h4>{{ entry.begins | date: "%s" | plus: day_offset | date: "%A, %B %e" }}</h4>
      {% else %}
        <h4>Discussion Topics for Week of {{ entry.begins | date: "%B %e" }}</h4>
      {% endif %}
      <ol>
        {% for item in meeting.agenda %}
          <li>{{ item | markdownify | remove: "<p>" | remove: "</p>" | strip_newlines }}</li>
        {% endfor %}
      </ol>
    </section>
    {% endfor %}

    <aside class="assigned">
      <header>
        <h3>Assigned Work</h3>
      </header>
    {% for reading in week.readings %}

    {% endfor %}
    {% for task in week.tasks %}

    {% endfor %}
    </aside>
  </article>
{% endfor %}

</section>
